"use strict";!function i(t,e,a){function n(r,s){if(!e[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(o)return o(r,!0);var d=new Error("Cannot find module '"+r+"'");throw d.code="MODULE_NOT_FOUND",d}var u=e[r]={exports:{}};t[r][0].call(u.exports,function(i){var e=t[r][1][i];return n(e?e:i)},u,u.exports,i,t,e,a)}return e[r].exports}for(var o="function"==typeof require&&require,r=0;r<a.length;r++)n(a[r]);return n}({1:[function(i,t,e){new Vue({el:"#app",data:{workingMode:initBag.workingMode,removeAttachPath:initBag.removeAttachPath,detailsName:"PRDetails",newItem:{flowTemplateGuid:initBag.flowTemplateGuid,currentActivityGuid:initBag.currentActivityGuid,selectedConnectionGuid:"",selectedPaticipantGuid:"",currentUserGuid:initBag.currentUserGuid,guid:initBag.guid,purchaseReqId:initBag.purchaseReqId,taskGuid:initBag.taskGuid,flowInstanceId:initBag.flowInstanceId,WBSNo:initBag.bizData.WBSNo||"",departmentId:initBag.bizData.departmentId,departmentIdBelongTo:initBag.bizData.departmentIdBelongTo,contactOfficePhone:initBag.bizData.contactOfficePhone,contactMobile:initBag.bizData.contactMobile,contactOtherMedia:initBag.bizData.contactMobile||"",costCenterId:initBag.bizData.costCenterId,expectReceiveBeginTime:initBag.bizData.expectReceiveBeginTime||null,expectReceiveEndTime:initBag.bizData.expectReceiveEndTime||null,isFirstBuy:initBag.bizData.isFirstBuy||!0,firstBuyDate:initBag.bizData.firstBuyDate||null,isBidingRequired:initBag.bizData.isBidingRequired||!0,noBiddingReason:initBag.bizData.noBiddingReason||"",reason:initBag.bizData.reason||"",description:initBag.bizData.description||"",estimatedCostInRMB:initBag.bizData.estimatedCostInRMB||0,averageBenchmark:initBag.bizData.averageBenchmark||0,benchmarkDescription:initBag.bizData.benchmarkDescription||"",firstCostAmount:initBag.bizData.firstCostAmount||0,firstBuyDescription:initBag.bizData.firstBuyDescription||"",otherVendorsNotInList:initBag.bizData.otherVendorsNotInList||"",PRDetails:initBag.PRDetails,sessionData:{availableFlowConnections:initBag.availableFlowConnections,potentialPaticipants:null,CreateWithFlowActionPath:initBag.PRCreateWithFlowActionPath,NextFlowActionPath:initBag.PRNextFlowActionPath,needChoosePaticipant:!0}},examineItem:{currentUserGuid:initBag.currentUserGuid,guid:initBag.guid,purchaseReqId:initBag.purchaseReqId,taskGuid:initBag.taskGuid,flowInstanceId:initBag.flowInstanceId,remarkOfAprrover:"",currentActivityGuid:initBag.currentActivityGuid,selectedConnectionGuid:"",selectedPaticipantGuid:"",sessionData:{availableFlowConnections:initBag.availableFlowConnections,potentialPaticipants:null,NextFlowActionPath:initBag.PRNextFlowActionPath,RejectToStartFlowActionPath:initBag.PRRejectToStartFlowActionPath,needChoosePaticipant:!0}},masterData:{pRItemTypes:initBag.pRItemTypes,departmentList:initBag.departmentList,currencyTypeList:initBag.currencyTypeList,costCenterList:initBag.costCenterList}},mixins:[opas_vue_biz_document_mixin],methods:{getPRItemTypeName:function(i){return _.find(this.masterData.pRItemTypes,{id:i}).name},handleDeleteDetail:function(i,t){this.newItem.PRDetails.splice(i,1)},handleAppendDetailNew:function(i,t){t.guid?console.error("不支持已有的记录被Append!"):this.newItem.PRDetails.splice(-1,1,{id:0,guid:Guid.raw(),lineNo:_.parseInt(t.lineNo),itemType:t.itemType,itemName:t.itemName,estimatedCost:t.estimatedCost,description:t.description},{id:0,guid:"",lineNo:_.parseInt(_.max(_.map(this.newItem.PRDetails,"lineNo")))+5||5,itemType:1,itemName:"",estimatedCost:0,description:""})},eraseInvalidDetail:function(i){i[i.length-1].guid||i.splice(-1,1)}}})},{}]},{},[1]);